[{"path":"https://asenetcky.github.io/strata/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 strata authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://asenetcky.github.io/strata/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Alexander Senetcky. Author, maintainer, copyright holder.","code":""},{"path":"https://asenetcky.github.io/strata/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Senetcky (2024). strata: Simple Framework Simple Automation. R package version 1.0.1, https://asenetcky.github.io/strata/, https://github.com/asenetcky/strata.","code":"@Manual{,   title = {strata: Simple Framework for Simple Automation},   author = {Alexander Senetcky},   year = {2024},   note = {R package version 1.0.1, https://asenetcky.github.io/strata/},   url = {https://github.com/asenetcky/strata}, }"},{"path":"https://asenetcky.github.io/strata/index.html","id":"strata","dir":"","previous_headings":"","what":"Simple Framework for Simple Automation","title":"Simple Framework for Simple Automation","text":"goal strata provide framework workflow automation reproducible analyses R users teams may access many modern automation tooling /otherwise resource-constrained. Strata aims simple allow users adopt minimal changes existing code use whatever automation access . one target file users need automate, main.R, run entire project settings specified build strata code. Strata designed get users’ way play nice packages like renv, cronR, taskscheduleR.","code":""},{"path":"https://asenetcky.github.io/strata/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Simple Framework for Simple Automation","text":"install latest CRAN release, just run: can install development version strata GitHub :","code":"install.packages(\"strata\") # install.packages(\"pak\") pak::pak(\"asenetcky/strata\")"},{"path":"https://asenetcky.github.io/strata/index.html","id":"getting-started-using-strata","dir":"","previous_headings":"","what":"Getting Started Using strata","title":"Simple Framework for Simple Automation","text":"strata provides users framework easier automation tools already hand. Users want make folder strata project. strata works best bundled inside RStudio project folder renv package, can made work without desired. calling strata package users want start hollowing spaces code live. Calling strata::build_stratum providing name path project folder add ‘stratum’ project, well main.R script .strata.toml file. Next users want call strata::build_lamina name path stratum created previous step. creates subfolder stratum R code live, well .laminae.toml. ’s good group like-code together inside ‘lamina’. Users can many stratum needed many laminae associated R scripts users deem necessary. main.R associated function main entry point project target users automate execution . executed main read .toml files begin sourcing pipelines order specified user/.toml files, within stratum execute laminae order specified user specific .toml file. Within lamina scripts sourced however user’s operating system ordered scripts, often alphabetically. strata provides basic, consistent logging functions used run time, available use inside users’ code desire.","code":""},{"path":"https://asenetcky.github.io/strata/index.html","id":"examples","dir":"","previous_headings":"","what":"Examples","title":"Simple Framework for Simple Automation","text":"standard example using strata: Users can also opt use quick build functions speed priority naming conventions important.","code":"library(strata)  tmp <- fs::dir_create(fs::file_temp()) strata::build_stratum(   project_path = tmp,   stratum_name = \"first_stratum\",   order = 1 )  stratum_path <-   fs::path(     tmp, \"strata\", \"first_stratum\"   ) strata::build_lamina(   stratum_path = stratum_path,   lamina_name = \"first_lamina\",   order = 1 ) strata::build_lamina(   stratum_path = stratum_path,   lamina_name = \"second_lamina\",   order = 2 )  lamina_path1 <- fs::path(stratum_path, \"first_lamina\") lamina_path2 <- fs::path(stratum_path, \"second_lamina\") code_path1 <- fs::path(lamina_path1, \"my_code1.R\") code_path2 <- fs::path(lamina_path2, \"my_code2.R\")   my_code1 <- fs::file_create(code_path1) my_code2 <- fs::file_create(code_path2) cat(file = my_code1, \"print('Hello, World!')\") cat(file = my_code2, \"print('Goodbye, World!')\")  source(fs::path(tmp, \"main.R\")) #> [2024-11-19 13:26:07.2781] INFO: Strata started  #> [2024-11-19 13:26:07.2785] INFO: Stratum: first_stratum initialized  #> [2024-11-19 13:26:07.2787] INFO: Lamina: first_lamina initialized  #> [2024-11-19 13:26:07.2790] INFO: Executing: my_code1  #> [1] \"Hello, World!\" #> [2024-11-19 13:26:07.2795] INFO: Lamina: first_lamina finished  #> [2024-11-19 13:26:07.2797] INFO: Lamina: second_lamina initialized  #> [2024-11-19 13:26:07.2799] INFO: Executing: my_code2  #> [1] \"Goodbye, World!\" #> [2024-11-19 13:26:07.2807] INFO: Strata finished - duration: 0.0028 seconds fs::dir_delete(tmp) tmp <- fs::dir_create(fs::file_temp())  strata::build_quick_strata_project(   project_path = tmp,   num_strata = 3,   num_laminae_per = 2 )  fs::dir_tree(tmp) #> /tmp/Rtmp5E3GPs/file22e3552586a20 #> ├── main.R #> └── strata #>     ├── stratum_1 #>     │   ├── s1_lamina_1 #>     │   │   └── my_code.R #>     │   └── s1_lamina_2 #>     │       └── my_code.R #>     ├── stratum_2 #>     │   ├── s2_lamina_1 #>     │   │   └── my_code.R #>     │   └── s2_lamina_2 #>     │       └── my_code.R #>     └── stratum_3 #>         ├── s3_lamina_1 #>         │   └── my_code.R #>         └── s3_lamina_2 #>             └── my_code.R fs::dir_delete(tmp)"},{"path":"https://asenetcky.github.io/strata/reference/adhoc_lamina.html","id":null,"dir":"Reference","previous_headings":"","what":"Execute a single lamina ad hoc — adhoc_lamina","title":"Execute a single lamina ad hoc — adhoc_lamina","text":"adhoc_lamina() execute lamina code therein contained specified lamina_path without log messages.","code":""},{"path":"https://asenetcky.github.io/strata/reference/adhoc_lamina.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Execute a single lamina ad hoc — adhoc_lamina","text":"","code":"adhoc_lamina(lamina_path, silent = FALSE)"},{"path":"https://asenetcky.github.io/strata/reference/adhoc_lamina.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execute a single lamina ad hoc — adhoc_lamina","text":"lamina_path Path lamina. silent Suppress log messages? FALSE (default), log messages printed console. TRUE, log messages suppressed.","code":""},{"path":"https://asenetcky.github.io/strata/reference/adhoc_lamina.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Execute a single lamina ad hoc — adhoc_lamina","text":"invisible data frame execution plan.","code":""},{"path":"https://asenetcky.github.io/strata/reference/adhoc_lamina.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Execute a single lamina ad hoc — adhoc_lamina","text":"","code":"tmp <- fs::dir_create(fs::file_temp()) result <- strata::build_quick_strata_project(tmp, 1, 1) adhoc_lamina(   fs::path(tmp, \"strata\", \"stratum_1\", \"s1_lamina_1\"), ) #> [2024-11-27 14:05:13.7386] INFO: Strata started  #> [2024-11-27 14:05:13.7392] INFO: Stratum: stratum_1 initialized  #> [2024-11-27 14:05:13.7396] INFO: Lamina: s1_lamina_1 initialized  #> [2024-11-27 14:05:13.7401] INFO: Executing: my_code  #> [1] \"I am a placeholder, do not forget to replace me!\" #> [2024-11-27 14:05:13.7419] INFO: Strata finished - duration: 0.0038 seconds  fs::dir_delete(tmp)"},{"path":"https://asenetcky.github.io/strata/reference/adhoc_stratum.html","id":null,"dir":"Reference","previous_headings":"","what":"Execute a single stratum ad hoc — adhoc_stratum","title":"Execute a single stratum ad hoc — adhoc_stratum","text":"adhoc_stratum() execute stratum, child laminae code therein contained specified stratum_path without log messages.","code":""},{"path":"https://asenetcky.github.io/strata/reference/adhoc_stratum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Execute a single stratum ad hoc — adhoc_stratum","text":"","code":"adhoc_stratum(stratum_path, silent = FALSE)"},{"path":"https://asenetcky.github.io/strata/reference/adhoc_stratum.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execute a single stratum ad hoc — adhoc_stratum","text":"stratum_path Path stratum folder silent Suppress log messages? FALSE (default), log messages printed console. TRUE, log messages suppressed.","code":""},{"path":"https://asenetcky.github.io/strata/reference/adhoc_stratum.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Execute a single stratum ad hoc — adhoc_stratum","text":"invisible data frame execution plan.","code":""},{"path":"https://asenetcky.github.io/strata/reference/adhoc_stratum.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Execute a single stratum ad hoc — adhoc_stratum","text":"","code":"tmp <- fs::dir_create(fs::file_temp()) result <- strata::build_quick_strata_project(tmp, 1, 1) adhoc_stratum(   fs::path(tmp, \"strata\", \"stratum_1\"), ) #> [2024-11-27 14:05:13.9606] ERROR: Stratum does not exist #> [2024-11-27 14:05:14.0009] INFO: Strata started  #> [2024-11-27 14:05:14.0013] INFO: Stratum: stratum_1 initialized  #> [2024-11-27 14:05:14.0016] INFO: Lamina: s1_lamina_1 initialized  #> [2024-11-27 14:05:14.0019] INFO: Executing: my_code  #> [1] \"I am a placeholder, do not forget to replace me!\" #> [2024-11-27 14:05:14.0026] INFO: Strata finished - duration: 0.0019 seconds  fs::dir_delete(tmp)"},{"path":"https://asenetcky.github.io/strata/reference/build_lamina.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a lamina to the project space — build_lamina","title":"Add a lamina to the project space — build_lamina","text":"Add lamina project space","code":""},{"path":"https://asenetcky.github.io/strata/reference/build_lamina.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a lamina to the project space — build_lamina","text":"","code":"build_lamina(lamina_name, stratum_path, order = 1, skip_if_fail = FALSE)"},{"path":"https://asenetcky.github.io/strata/reference/build_lamina.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a lamina to the project space — build_lamina","text":"lamina_name Name lamina stratum_path Path stratum folder order Execution order, default 1 skip_if_fail Skip lamina fails, default FALSE","code":""},{"path":"https://asenetcky.github.io/strata/reference/build_lamina.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a lamina to the project space — build_lamina","text":"invisibly returns fs::path lamina","code":""},{"path":"https://asenetcky.github.io/strata/reference/build_lamina.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a lamina to the project space — build_lamina","text":"","code":"tmp <- fs::dir_create(fs::file_temp()) result_stratum_path <- build_stratum(\"my_stratum_name\", tmp) result_lamina_path <- build_lamina(\"my_lamina_name\", result_stratum_path) result_lamina_path #> /tmp/RtmplEubrQ/file17343ca17500/strata/my_stratum_name/my_lamina_name fs::dir_delete(tmp)"},{"path":"https://asenetcky.github.io/strata/reference/build_outlined_strata_project.html","id":null,"dir":"Reference","previous_headings":"","what":"Build a strata project from an outline dataframe — build_outlined_strata_project","title":"Build a strata project from an outline dataframe — build_outlined_strata_project","text":"Users specific idea mind already can map intended project structure outline dataframe use build_outlined_strata_project() build project using dataframe blueprint.","code":""},{"path":"https://asenetcky.github.io/strata/reference/build_outlined_strata_project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build a strata project from an outline dataframe — build_outlined_strata_project","text":"","code":"build_outlined_strata_project(outline)"},{"path":"https://asenetcky.github.io/strata/reference/build_outlined_strata_project.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build a strata project from an outline dataframe — build_outlined_strata_project","text":"outline data frame following columns: project_path, stratum_name, stratum_order, lamina_name, lamina_order, skip_if_fail.","code":""},{"path":"https://asenetcky.github.io/strata/reference/build_outlined_strata_project.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build a strata project from an outline dataframe — build_outlined_strata_project","text":"invisible dataframe survey strata project.","code":""},{"path":"https://asenetcky.github.io/strata/reference/build_outlined_strata_project.html","id":"outline","dir":"Reference","previous_headings":"","what":"Outline","title":"Build a strata project from an outline dataframe — build_outlined_strata_project","text":"outline dataframe following columns: project_path: path project. stratum_name: name stratum. stratum_order: order stratum. lamina_name: name lamina. lamina_order: order lamina within stratum. skip_if_fail: logical indicating lamina skipped fails. row outline dataframe represents stratum lamina combination created project.  Placeholder R script created lamina directory help remind user replace code. can 6 columns, can missing values dataframe.  stratum_name stratum_order columns must contain unique values.","code":""},{"path":"https://asenetcky.github.io/strata/reference/build_outlined_strata_project.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build a strata project from an outline dataframe — build_outlined_strata_project","text":"","code":"tmp <- fs::dir_create(fs::file_temp()) outline <- tibble::tibble(   project_path = tmp,   stratum_name = c(\"test1\", \"test2\"),   stratum_order = c(1, 2),   lamina_name = c(\"lamina1\", \"lamina1\"),   lamina_order = c(1, 2),   skip_if_fail = FALSE ) result <- build_outlined_strata_project(outline) #> [2024-11-27 14:05:14.3476] INFO: Backed up /tmp/RtmplEubrQ/file1734181546d4/strata/test2/.laminae.toml to /tmp/RtmplEubrQ/file1734181546d4/strata/test2/.laminae.bak  dplyr::glimpse(result) #> Rows: 4 #> Columns: 7 #> $ execution_order <int> 1, 2, 3, 4 #> $ stratum_name    <chr> \"test1\", \"test1\", \"test2\", \"test2\" #> $ lamina_name     <chr> \"lamina1\", \"lamina1\", \"lamina1\", \"lamina1\" #> $ script_name     <chr> \"my_code\", \"my_code\", \"my_code\", \"my_code\" #> $ script_path     <fs::path> \"/tmp/RtmplEubrQ/file1734181546d4/strata/test1/lamina1… #> $ skip_if_fail    <lgl> FALSE, FALSE, FALSE, FALSE #> $ created         <date> 2024-11-27, 2024-11-27, 2024-11-27, 2024-11-27 main(tmp) #> [2024-11-27 14:05:14.4651] INFO: Strata started  #> [2024-11-27 14:05:14.4655] INFO: Stratum: test1 initialized  #> [2024-11-27 14:05:14.4658] INFO: Lamina: lamina1 initialized  #> [2024-11-27 14:05:14.4662] INFO: Executing: my_code  #> [1] \"I am a placeholder, do not forget to replace me!\" #> [2024-11-27 14:05:14.4668] INFO: Executing: my_code  #> [1] \"I am a placeholder, do not forget to replace me!\" #> [2024-11-27 14:05:14.4674] INFO: Stratum: test1 finished  #> [2024-11-27 14:05:14.4677] INFO: Stratum: test2 initialized  #> [2024-11-27 14:05:14.4680] INFO: Executing: my_code  #> [1] \"I am a placeholder, do not forget to replace me!\" #> [2024-11-27 14:05:14.4686] INFO: Executing: my_code  #> [1] \"I am a placeholder, do not forget to replace me!\" #> [2024-11-27 14:05:14.4692] INFO: Strata finished - duration: 0.0042 seconds  fs::dir_delete(tmp)"},{"path":"https://asenetcky.github.io/strata/reference/build_quick_strata_project.html","id":null,"dir":"Reference","previous_headings":"","what":"Quickly build strata project with minimal input and standard names — build_quick_strata_project","title":"Quickly build strata project with minimal input and standard names — build_quick_strata_project","text":"build_quick_strata_project create project specified number strata - num_strata, specified number laminae num_laminae_per per stratum. strata laminae named stratum_1, stratum_2, etc. s1_lamina_1, s1_lamina_2, etc.","code":""},{"path":"https://asenetcky.github.io/strata/reference/build_quick_strata_project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Quickly build strata project with minimal input and standard names — build_quick_strata_project","text":"","code":"build_quick_strata_project(project_path, num_strata = 1, num_laminae_per = 1)"},{"path":"https://asenetcky.github.io/strata/reference/build_quick_strata_project.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Quickly build strata project with minimal input and standard names — build_quick_strata_project","text":"project_path path strata project folder. num_strata Number strata create. num_laminae_per Number laminae create per stratum.","code":""},{"path":"https://asenetcky.github.io/strata/reference/build_quick_strata_project.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Quickly build strata project with minimal input and standard names — build_quick_strata_project","text":"invisible dataframe survey strata project.","code":""},{"path":"https://asenetcky.github.io/strata/reference/build_quick_strata_project.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Quickly build strata project with minimal input and standard names — build_quick_strata_project","text":"","code":"tmp <- fs::dir_create(fs::file_temp()) result <- build_quick_strata_project(tmp, 2, 2) dplyr::glimpse(result) #> Rows: 4 #> Columns: 7 #> $ execution_order <int> 1, 2, 3, 4 #> $ stratum_name    <chr> \"stratum_1\", \"stratum_1\", \"stratum_2\", \"stratum_2\" #> $ lamina_name     <chr> \"s1_lamina_1\", \"s1_lamina_2\", \"s2_lamina_1\", \"s2_lamin… #> $ script_name     <chr> \"my_code\", \"my_code\", \"my_code\", \"my_code\" #> $ script_path     <fs::path> \"/tmp/RtmplEubrQ/file1734132a1915/strata/stratum_1/s1_… #> $ skip_if_fail    <lgl> FALSE, FALSE, FALSE, FALSE #> $ created         <date> 2024-11-27, 2024-11-27, 2024-11-27, 2024-11-27 main(tmp) #> [2024-11-27 14:05:15.4613] INFO: Strata started  #> [2024-11-27 14:05:15.4618] INFO: Stratum: stratum_1 initialized  #> [2024-11-27 14:05:15.4620] INFO: Lamina: s1_lamina_1 initialized  #> [2024-11-27 14:05:15.4624] INFO: Executing: my_code  #> [1] \"I am a placeholder, do not forget to replace me!\" #> [2024-11-27 14:05:15.4631] INFO: Lamina: s1_lamina_1 finished  #> [2024-11-27 14:05:15.4634] INFO: Lamina: s1_lamina_2 initialized  #> [2024-11-27 14:05:15.4637] INFO: Executing: my_code  #> [1] \"I am a placeholder, do not forget to replace me!\" #> [2024-11-27 14:05:15.4643] INFO: Stratum: stratum_1 finished  #> [2024-11-27 14:05:15.4646] INFO: Stratum: stratum_2 initialized  #> [2024-11-27 14:05:15.4648] INFO: Lamina: s1_lamina_2 finished  #> [2024-11-27 14:05:15.4651] INFO: Lamina: s2_lamina_1 initialized  #> [2024-11-27 14:05:15.4654] INFO: Executing: my_code  #> [1] \"I am a placeholder, do not forget to replace me!\" #> [2024-11-27 14:05:15.4659] INFO: Lamina: s2_lamina_1 finished  #> [2024-11-27 14:05:15.4662] INFO: Lamina: s2_lamina_2 initialized  #> [2024-11-27 14:05:15.4664] INFO: Executing: my_code  #> [1] \"I am a placeholder, do not forget to replace me!\" #> [2024-11-27 14:05:15.4670] INFO: Strata finished - duration: 0.0059 seconds  fs::dir_delete(tmp)"},{"path":"https://asenetcky.github.io/strata/reference/build_stratum.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a stratum to the project space — build_stratum","title":"Add a stratum to the project space — build_stratum","text":"Add stratum project space","code":""},{"path":"https://asenetcky.github.io/strata/reference/build_stratum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a stratum to the project space — build_stratum","text":"","code":"build_stratum(stratum_name, project_path, order = 1)"},{"path":"https://asenetcky.github.io/strata/reference/build_stratum.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a stratum to the project space — build_stratum","text":"stratum_name Name stratum project_path path strata project folder. order Execution order, default 1","code":""},{"path":"https://asenetcky.github.io/strata/reference/build_stratum.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a stratum to the project space — build_stratum","text":"invisibly returns fs::path stratum","code":""},{"path":"https://asenetcky.github.io/strata/reference/build_stratum.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a stratum to the project space — build_stratum","text":"","code":"tmp <- fs::dir_create(fs::file_temp()) result <- build_stratum(\"my_stratum_name\", tmp) result #> /tmp/RtmplEubrQ/file17344e299374/strata/my_stratum_name fs::dir_delete(tmp)"},{"path":"https://asenetcky.github.io/strata/reference/edit_toml.html","id":null,"dir":"Reference","previous_headings":"","what":"Edit a toml file by providing a dataframe replacement — edit_toml","title":"Edit a toml file by providing a dataframe replacement — edit_toml","text":"Users can use edit_toml() edit toml file (opt use text editor) providing dataframe desired contents. function check dataframe validity rewrite toml file using dataframe blueprint.","code":""},{"path":"https://asenetcky.github.io/strata/reference/edit_toml.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Edit a toml file by providing a dataframe replacement — edit_toml","text":"","code":"edit_toml(original_toml_path, new_toml_dataframe)"},{"path":"https://asenetcky.github.io/strata/reference/edit_toml.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Edit a toml file by providing a dataframe replacement — edit_toml","text":"original_toml_path Path original toml file. new_toml_dataframe Dataframe new toml file contents following columns: type, name, order, skip_if_fail, created.","code":""},{"path":"https://asenetcky.github.io/strata/reference/edit_toml.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Edit a toml file by providing a dataframe replacement — edit_toml","text":"invisible original toml file path toml file","code":""},{"path":"https://asenetcky.github.io/strata/reference/edit_toml.html","id":"new-toml-dataframe","dir":"Reference","previous_headings":"","what":"new_toml_dataframe","title":"Edit a toml file by providing a dataframe replacement — edit_toml","text":"edit_toml() check dataframe following columns: type: type toml file, character  either \"strata\" \"laminae\" name: character string name stratum lamina order: numeric order stratum lamina skip_if_fail: (type == laminae) logical indicating lamina skipped fails created: valid date day stratum lamina created Unexpected columns dropped, edit_toml() warn user. missing columns, edit_toml() return error, stop inform user missing. duplicates order strata rewrite order using best guess.","code":""},{"path":"https://asenetcky.github.io/strata/reference/edit_toml.html","id":"usage","dir":"Reference","previous_headings":"","what":"usage","title":"Edit a toml file by providing a dataframe replacement — edit_toml","text":"Users using function likely want combine helpers strata. may looks something like : User runs survey_tomls() find toml files project User runs view_toml() view contents toml file saves object, like original_toml similiar User edits original_toml object liking saves new object, like new_toml. User runs edit_toml() path original toml new_toml objects can use view_toml() confirm changes.","code":""},{"path":"https://asenetcky.github.io/strata/reference/edit_toml.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Edit a toml file by providing a dataframe replacement — edit_toml","text":"","code":"tmp <- fs::dir_create(fs::file_temp()) strata::build_quick_strata_project(tmp, 2, 3) original_toml_path <- survey_tomls(tmp)[[1]] original_toml <- view_toml(original_toml_path) original_toml #> # A tibble: 2 × 4 #>   type   name      order created    #>   <chr>  <chr>     <int> <date>     #> 1 strata stratum_1     1 2024-11-27 #> 2 strata stratum_2     2 2024-11-27 new_toml <- original_toml |>   dplyr::mutate(     created = as.Date(\"2021-01-01\")   ) new_toml_path <- edit_toml(original_toml_path, new_toml) #> [2024-11-27 14:05:15.9787] INFO: Backed up /tmp/RtmplEubrQ/file1734b90953f/strata/.strata.toml to /tmp/RtmplEubrQ/file1734b90953f/strata/.strata.bak  view_toml(new_toml_path) #> # A tibble: 2 × 4 #>   type   name      order created    #>   <chr>  <chr>     <int> <date>     #> 1 strata stratum_1     1 2021-01-01 #> 2 strata stratum_2     2 2021-01-01 fs::dir_delete(tmp)"},{"path":"https://asenetcky.github.io/strata/reference/log_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper around log_message for ERROR messages in the log — log_error","title":"Wrapper around log_message for ERROR messages in the log — log_error","text":"log_error() stop execution script, print message stderr.","code":""},{"path":"https://asenetcky.github.io/strata/reference/log_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper around log_message for ERROR messages in the log — log_error","text":"","code":"log_error(message)"},{"path":"https://asenetcky.github.io/strata/reference/log_error.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper around log_message for ERROR messages in the log — log_error","text":"message string containing message log.","code":""},{"path":"https://asenetcky.github.io/strata/reference/log_error.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper around log_message for ERROR messages in the log — log_error","text":"message printed stderr","code":""},{"path":"https://asenetcky.github.io/strata/reference/log_error.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrapper around log_message for ERROR messages in the log — log_error","text":"","code":"log_error(\"This is an error message\") #> [2024-11-27 14:05:16.5189] ERROR: This is an error message"},{"path":"https://asenetcky.github.io/strata/reference/log_message.html","id":null,"dir":"Reference","previous_headings":"","what":"Send a standardized log message to stdout or stderr — log_message","title":"Send a standardized log message to stdout or stderr — log_message","text":"log_message() stop execution script, regardless level message, whether prints STDOUT STDERR.","code":""},{"path":"https://asenetcky.github.io/strata/reference/log_message.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Send a standardized log message to stdout or stderr — log_message","text":"","code":"log_message(message, level = \"INFO\", out_or_err = \"OUT\")"},{"path":"https://asenetcky.github.io/strata/reference/log_message.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Send a standardized log message to stdout or stderr — log_message","text":"message string containing message log. level level message (e.g. INFO, WARNING, ERROR), defaults \"INFO\" accept string. out_or_err Send log output stdout stderr, choices \"\" \"ERR\" defaults \"\".","code":""},{"path":"https://asenetcky.github.io/strata/reference/log_message.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Send a standardized log message to stdout or stderr — log_message","text":"message printed stdout stderr.","code":""},{"path":"https://asenetcky.github.io/strata/reference/log_message.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Send a standardized log message to stdout or stderr — log_message","text":"","code":"log_message(\"This is an info message\", \"INFO\", \"OUT\") #> [2024-11-27 14:05:16.6321] INFO: This is an info message  log_message(\"This is an error message\", \"ERROR\", \"ERR\") #> [2024-11-27 14:05:16.6330] ERROR: This is an error message log_message(\"This is a warning message\", \"WARNING\", \"OUT\") #> [2024-11-27 14:05:16.6340] WARNING: This is a warning message"},{"path":"https://asenetcky.github.io/strata/reference/log_total_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Print time difference in a standard message for logging purposes — log_total_time","title":"Print time difference in a standard message for logging purposes — log_total_time","text":"Print time difference standard message logging purposes","code":""},{"path":"https://asenetcky.github.io/strata/reference/log_total_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print time difference in a standard message for logging purposes — log_total_time","text":"","code":"log_total_time(begin, end)"},{"path":"https://asenetcky.github.io/strata/reference/log_total_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print time difference in a standard message for logging purposes — log_total_time","text":"begin data-time object, signifying beginning process end data-time object, signifying end process","code":""},{"path":"https://asenetcky.github.io/strata/reference/log_total_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print time difference in a standard message for logging purposes — log_total_time","text":"numeric value time difference seconds","code":""},{"path":"https://asenetcky.github.io/strata/reference/log_total_time.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print time difference in a standard message for logging purposes — log_total_time","text":"","code":"begin <- Sys.time() # do something end <- Sys.time() + 999 log_total_time(begin, end) #> [1] 999.0006"},{"path":"https://asenetcky.github.io/strata/reference/main.html","id":null,"dir":"Reference","previous_headings":"","what":"Execute entire strata project — main","title":"Execute entire strata project — main","text":"main() read .toml files inside project_path begin sourcing strata laminae order specified user, without logging messages. strata project created main.R added project root. script houses main(), file entry point project target automation. However, main() can called anywhere, users can opt use main.R .","code":""},{"path":"https://asenetcky.github.io/strata/reference/main.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Execute entire strata project — main","text":"","code":"main(project_path, silent = FALSE)"},{"path":"https://asenetcky.github.io/strata/reference/main.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execute entire strata project — main","text":"project_path path strata project folder. silent Suppress log messages? FALSE (default), log messages printed console. TRUE, log messages suppressed.","code":""},{"path":"https://asenetcky.github.io/strata/reference/main.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Execute entire strata project — main","text":"invisible execution plan.","code":""},{"path":"https://asenetcky.github.io/strata/reference/main.html","id":"-toml-files","dir":"Reference","previous_headings":"","what":".toml files","title":"Execute entire strata project — main","text":"two types .toml files main() read: .strata.toml - singular file inside <project_path>/strata folder .laminae.toml - file inside <project_path>/strata/<stratum_name> folder files created strata functions used determine primarily order execution strata laminae.  Anything referenced .toml ignored main() functions survey_strata(), adhoc_stratum(), adhoc_lamina(). Users can safely add folders files project root, even within subfolders ignored, unless users code known .toml references . Users can use functions survey_tomls() [view_toml())] find view .toml files project. [view_toml())]: R:view_toml())","code":""},{"path":"https://asenetcky.github.io/strata/reference/main.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Execute entire strata project — main","text":"","code":"tmp <- fs::dir_create(fs::file_temp()) result <- strata::build_quick_strata_project(tmp, 1, 1) main(tmp) #> [2024-11-27 14:05:16.9978] INFO: Strata started  #> [2024-11-27 14:05:16.9982] INFO: Stratum: stratum_1 initialized  #> [2024-11-27 14:05:16.9985] INFO: Lamina: s1_lamina_1 initialized  #> [2024-11-27 14:05:16.9989] INFO: Executing: my_code  #> [1] \"I am a placeholder, do not forget to replace me!\" #> [2024-11-27 14:05:16.9996] INFO: Strata finished - duration: 0.002 seconds  fs::dir_delete(tmp)"},{"path":"https://asenetcky.github.io/strata/reference/strata-package.html","id":null,"dir":"Reference","previous_headings":"","what":"strata: Simple Framework for Simple Automation — strata-package","title":"strata: Simple Framework for Simple Automation — strata-package","text":"tool suite building project frameworks users access basic automation tools.","code":""},{"path":[]},{"path":"https://asenetcky.github.io/strata/reference/strata-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"strata: Simple Framework for Simple Automation — strata-package","text":"Maintainer: Alexander Senetcky asenetcky@gmail.com (ORCID) [copyright holder]","code":""},{"path":"https://asenetcky.github.io/strata/reference/survey_strata.html","id":null,"dir":"Reference","previous_headings":"","what":"Survey the layout and execution order of your project — survey_strata","title":"Survey the layout and execution order of your project — survey_strata","text":"survey_strata() examine .tomls project_path provided return dataframe following information project: stratum_name: name stratum lamina_name: name lamina execution_order: order stratum-lamina-code combination executed script_name: name script executed script_path: path script based contents .toml files, everything else \"invisible\" inside strata project.","code":""},{"path":"https://asenetcky.github.io/strata/reference/survey_strata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Survey the layout and execution order of your project — survey_strata","text":"","code":"survey_strata(project_path)"},{"path":"https://asenetcky.github.io/strata/reference/survey_strata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Survey the layout and execution order of your project — survey_strata","text":"project_path path strata project folder.","code":""},{"path":"https://asenetcky.github.io/strata/reference/survey_strata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Survey the layout and execution order of your project — survey_strata","text":"dataframe housing layout project based .tomls.","code":""},{"path":"https://asenetcky.github.io/strata/reference/survey_strata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Survey the layout and execution order of your project — survey_strata","text":"","code":"tmp <- fs::dir_create(fs::file_temp()) build_quick_strata_project(tmp, 2, 2) survey_strata(tmp) #> # A tibble: 4 × 7 #>   execution_order stratum_name lamina_name script_name script_path  skip_if_fail #>             <int> <chr>        <chr>       <chr>       <fs::path>   <lgl>        #> 1               1 stratum_1    s1_lamina_1 my_code     …1/my_code.R FALSE        #> 2               2 stratum_1    s1_lamina_2 my_code     …2/my_code.R FALSE        #> 3               3 stratum_2    s2_lamina_1 my_code     …1/my_code.R FALSE        #> 4               4 stratum_2    s2_lamina_2 my_code     …2/my_code.R FALSE        #> # ℹ 1 more variable: created <date> fs::dir_delete(tmp)"},{"path":"https://asenetcky.github.io/strata/reference/survey_tomls.html","id":null,"dir":"Reference","previous_headings":"","what":"Find all toml files in a project — survey_tomls","title":"Find all toml files in a project — survey_tomls","text":"Find toml files project","code":""},{"path":"https://asenetcky.github.io/strata/reference/survey_tomls.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find all toml files in a project — survey_tomls","text":"","code":"survey_tomls(project_path)"},{"path":"https://asenetcky.github.io/strata/reference/survey_tomls.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find all toml files in a project — survey_tomls","text":"project_path path strata project folder.","code":""},{"path":"https://asenetcky.github.io/strata/reference/survey_tomls.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find all toml files in a project — survey_tomls","text":"fs_path object toml files.","code":""},{"path":"https://asenetcky.github.io/strata/reference/survey_tomls.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Find all toml files in a project — survey_tomls","text":"","code":"tmp <- fs::dir_create(fs::file_temp()) strata::build_quick_strata_project(tmp, 2, 3) survey_tomls(tmp) #> /tmp/RtmplEubrQ/file173418328a/strata/.strata.toml #> /tmp/RtmplEubrQ/file173418328a/strata/stratum_1/.laminae.toml #> /tmp/RtmplEubrQ/file173418328a/strata/stratum_2/.laminae.toml fs::dir_delete(tmp)"},{"path":"https://asenetcky.github.io/strata/reference/view_toml.html","id":null,"dir":"Reference","previous_headings":"","what":"View the contents of a toml file as a dataframe — view_toml","title":"View the contents of a toml file as a dataframe — view_toml","text":"View contents toml file dataframe","code":""},{"path":"https://asenetcky.github.io/strata/reference/view_toml.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"View the contents of a toml file as a dataframe — view_toml","text":"","code":"view_toml(toml_path)"},{"path":"https://asenetcky.github.io/strata/reference/view_toml.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"View the contents of a toml file as a dataframe — view_toml","text":"toml_path Path toml file","code":""},{"path":"https://asenetcky.github.io/strata/reference/view_toml.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"View the contents of a toml file as a dataframe — view_toml","text":"dataframe toml file contents.","code":""},{"path":"https://asenetcky.github.io/strata/reference/view_toml.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"View the contents of a toml file as a dataframe — view_toml","text":"","code":"tmp <- fs::dir_create(fs::file_temp()) strata::build_quick_strata_project(tmp, 2, 3) proj_tomls <- survey_tomls(tmp) purrr::map(proj_tomls, view_toml) #> $`/tmp/RtmplEubrQ/file17344a959850/strata/.strata.toml` #> # A tibble: 2 × 4 #>   type   name      order created    #>   <chr>  <chr>     <int> <date>     #> 1 strata stratum_1     1 2024-11-27 #> 2 strata stratum_2     2 2024-11-27 #>  #> $`/tmp/RtmplEubrQ/file17344a959850/strata/stratum_1/.laminae.toml` #> # A tibble: 3 × 5 #>   type    name        order skip_if_fail created    #>   <chr>   <chr>       <int> <lgl>        <date>     #> 1 laminae s1_lamina_1     1 FALSE        2024-11-27 #> 2 laminae s1_lamina_2     2 FALSE        2024-11-27 #> 3 laminae s1_lamina_3     3 FALSE        2024-11-27 #>  #> $`/tmp/RtmplEubrQ/file17344a959850/strata/stratum_2/.laminae.toml` #> # A tibble: 3 × 5 #>   type    name        order skip_if_fail created    #>   <chr>   <chr>       <int> <lgl>        <date>     #> 1 laminae s2_lamina_1     1 FALSE        2024-11-27 #> 2 laminae s2_lamina_2     2 FALSE        2024-11-27 #> 3 laminae s2_lamina_3     3 FALSE        2024-11-27 #>  fs::dir_delete(tmp)"},{"path":"https://asenetcky.github.io/strata/news/index.html","id":"strata-101","dir":"Changelog","previous_headings":"","what":"strata 1.0.1","title":"strata 1.0.1","text":"CRAN release: 2024-11-27 trim description","code":""},{"path":"https://asenetcky.github.io/strata/news/index.html","id":"strata-100","dir":"Changelog","previous_headings":"","what":"strata 1.0.0","title":"strata 1.0.0","text":"Enhanced documentation Removed lubridate dependency Changed path argument project_path build_stratum","code":""},{"path":"https://asenetcky.github.io/strata/news/index.html","id":"strata-071","dir":"Changelog","previous_headings":"","what":"strata 0.7.1","title":"strata 0.7.1","text":"styled styler package added github action workflow: ‘style’","code":""},{"path":"https://asenetcky.github.io/strata/news/index.html","id":"strata-070","dir":"Changelog","previous_headings":"","what":"strata 0.7.0","title":"strata 0.7.0","text":"allows users quickly build project standard names allows users quickly build project providing dataframe outline expected project structure","code":""},{"path":"https://asenetcky.github.io/strata/news/index.html","id":"strata-060","dir":"Changelog","previous_headings":"","what":"strata 0.6.0","title":"strata 0.6.0","text":"survey_tomls lists .toml files project view_toml returns dataframe contents toml edit_toml replaces toml user-provided path contents user-provided dataframe","code":""},{"path":"https://asenetcky.github.io/strata/news/index.html","id":"strata-050","dir":"Changelog","previous_headings":"","what":"strata 0.5.0","title":"strata 0.5.0","text":"added survey_strata function allow users survey details execution order strata, laminae scripts project folder","code":""},{"path":"https://asenetcky.github.io/strata/news/index.html","id":"strata-040","dir":"Changelog","previous_headings":"","what":"strata 0.4.0","title":"strata 0.4.0","text":"Added pkgdown website","code":""},{"path":"https://asenetcky.github.io/strata/news/index.html","id":"strata-030","dir":"Changelog","previous_headings":"","what":"strata 0.3.0","title":"strata 0.3.0","text":"Added skip_if_fail feature allows users skip lamina fails # strata 0.2.0 Added silence feature allows users suppress logging messages","code":""},{"path":"https://asenetcky.github.io/strata/news/index.html","id":"strata-011","dir":"Changelog","previous_headings":"","what":"strata 0.1.1","title":"strata 0.1.1","text":"Added test coverage builders, toml /util related functions","code":""},{"path":"https://asenetcky.github.io/strata/news/index.html","id":"strata-010","dir":"Changelog","previous_headings":"","what":"strata 0.1.0","title":"strata 0.1.0","text":"Basic functionality feature-complete","code":""}]
